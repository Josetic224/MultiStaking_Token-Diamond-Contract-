{"abi":[{"type":"event","name":"DiamondCut","inputs":[{"name":"_diamondCut","type":"tuple[]","indexed":false,"internalType":"struct IDiamondCut.FacetCut[]","components":[{"name":"facetAddress","type":"address","internalType":"address"},{"name":"action","type":"uint8","internalType":"enum IDiamondCut.FacetCutAction"},{"name":"functionSelectors","type":"bytes4[]","internalType":"bytes4[]"}]},{"name":"_init","type":"address","indexed":false,"internalType":"address"},{"name":"_calldata","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"event","name":"OwnershipTransferred","inputs":[{"name":"previousOwner","type":"address","indexed":true,"internalType":"address"},{"name":"newOwner","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"error","name":"EmptyCalldata","inputs":[]},{"type":"error","name":"ImmutableFunction","inputs":[{"name":"selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"InValidFacetCutAction","inputs":[]},{"type":"error","name":"InitCallFailed","inputs":[]},{"type":"error","name":"MustBeZeroAddress","inputs":[]},{"type":"error","name":"NoCode","inputs":[]},{"type":"error","name":"NoSelectorsInFacet","inputs":[]},{"type":"error","name":"NoZeroAddress","inputs":[]},{"type":"error","name":"NonEmptyCalldata","inputs":[]},{"type":"error","name":"NonExistentSelector","inputs":[{"name":"selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"NotDiamondOwner","inputs":[]},{"type":"error","name":"SameSelectorReplacement","inputs":[{"name":"selector","type":"bytes4","internalType":"bytes4"}]},{"type":"error","name":"SelectorExists","inputs":[{"name":"selector","type":"bytes4","internalType":"bytes4"}]}],"bytecode":{"object":"0x6055604b600b8282823980515f1a607314603f577f4e487b71000000000000000000000000000000000000000000000000000000005f525f60045260245ffd5b305f52607381538281f3fe730000000000000000000000000000000000000000301460806040525f5ffdfea2646970667358221220d9584509ded2c05f8ad784dcf45eea58ad35ea7af199a7e29fd5e751a652b10364736f6c634300081c0033","sourceMap":"421:11346:17:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x730000000000000000000000000000000000000000301460806040525f5ffdfea2646970667358221220d9584509ded2c05f8ad784dcf45eea58ad35ea7af199a7e29fd5e751a652b10364736f6c634300081c0033","sourceMap":"421:11346:17:-:0;;;;;;;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"EmptyCalldata\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"selector\",\"type\":\"bytes4\"}],\"name\":\"ImmutableFunction\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InValidFacetCutAction\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InitCallFailed\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"MustBeZeroAddress\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NoCode\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NoSelectorsInFacet\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NoZeroAddress\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NonEmptyCalldata\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"selector\",\"type\":\"bytes4\"}],\"name\":\"NonExistentSelector\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotDiamondOwner\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"selector\",\"type\":\"bytes4\"}],\"name\":\"SameSelectorReplacement\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"selector\",\"type\":\"bytes4\"}],\"name\":\"SelectorExists\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"facetAddress\",\"type\":\"address\"},{\"internalType\":\"enum IDiamondCut.FacetCutAction\",\"name\":\"action\",\"type\":\"uint8\"},{\"internalType\":\"bytes4[]\",\"name\":\"functionSelectors\",\"type\":\"bytes4[]\"}],\"indexed\":false,\"internalType\":\"struct IDiamondCut.FacetCut[]\",\"name\":\"_diamondCut\",\"type\":\"tuple[]\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"_init\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"_calldata\",\"type\":\"bytes\"}],\"name\":\"DiamondCut\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"previousOwner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"newOwner\",\"type\":\"address\"}],\"name\":\"OwnershipTransferred\",\"type\":\"event\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/libraries/LibDiamond.sol\":\"LibDiamond\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":solidity-stringutils/=lib/solidity-stringutils/\"]},\"sources\":{\"contracts/interfaces/IDiamondCut.sol\":{\"keccak256\":\"0xc00c16bfa30a3fa5f3dc684f7f8ba62c259962b25f647d9588739458989717fc\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://119d9a5acd99b9462a8341c9b95ddd468648799eefa47038f81521431743c1ae\",\"dweb:/ipfs/QmTF7WNyPWTUtUzNcpq5rf5v2uw5TwzqsSg9D53pfQufcu\"]},\"contracts/libraries/LibDiamond.sol\":{\"keccak256\":\"0x4dbb19a6d1bd1b4b04818f53b9606854d5eb1d82e90072584ccb0dcabe4daf2f\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bfe9874fd01dac6fd9d59d53c7d14594603d6592c2d7a2a05672d957c776945d\",\"dweb:/ipfs/QmTqw5d7LYjS8JHhBP7kfApZ9EV6TC8UkM5nc1wfZeHdE1\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"EmptyCalldata"},{"inputs":[{"internalType":"bytes4","name":"selector","type":"bytes4"}],"type":"error","name":"ImmutableFunction"},{"inputs":[],"type":"error","name":"InValidFacetCutAction"},{"inputs":[],"type":"error","name":"InitCallFailed"},{"inputs":[],"type":"error","name":"MustBeZeroAddress"},{"inputs":[],"type":"error","name":"NoCode"},{"inputs":[],"type":"error","name":"NoSelectorsInFacet"},{"inputs":[],"type":"error","name":"NoZeroAddress"},{"inputs":[],"type":"error","name":"NonEmptyCalldata"},{"inputs":[{"internalType":"bytes4","name":"selector","type":"bytes4"}],"type":"error","name":"NonExistentSelector"},{"inputs":[],"type":"error","name":"NotDiamondOwner"},{"inputs":[{"internalType":"bytes4","name":"selector","type":"bytes4"}],"type":"error","name":"SameSelectorReplacement"},{"inputs":[{"internalType":"bytes4","name":"selector","type":"bytes4"}],"type":"error","name":"SelectorExists"},{"inputs":[{"internalType":"struct IDiamondCut.FacetCut[]","name":"_diamondCut","type":"tuple[]","components":[{"internalType":"address","name":"facetAddress","type":"address"},{"internalType":"enum IDiamondCut.FacetCutAction","name":"action","type":"uint8"},{"internalType":"bytes4[]","name":"functionSelectors","type":"bytes4[]"}],"indexed":false},{"internalType":"address","name":"_init","type":"address","indexed":false},{"internalType":"bytes","name":"_calldata","type":"bytes","indexed":false}],"type":"event","name":"DiamondCut","anonymous":false},{"inputs":[{"internalType":"address","name":"previousOwner","type":"address","indexed":true},{"internalType":"address","name":"newOwner","type":"address","indexed":true}],"type":"event","name":"OwnershipTransferred","anonymous":false}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","ds-test/=lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","solidity-stringutils/=lib/solidity-stringutils/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/libraries/LibDiamond.sol":"LibDiamond"},"evmVersion":"cancun","libraries":{}},"sources":{"contracts/interfaces/IDiamondCut.sol":{"keccak256":"0xc00c16bfa30a3fa5f3dc684f7f8ba62c259962b25f647d9588739458989717fc","urls":["bzz-raw://119d9a5acd99b9462a8341c9b95ddd468648799eefa47038f81521431743c1ae","dweb:/ipfs/QmTF7WNyPWTUtUzNcpq5rf5v2uw5TwzqsSg9D53pfQufcu"],"license":"MIT"},"contracts/libraries/LibDiamond.sol":{"keccak256":"0x4dbb19a6d1bd1b4b04818f53b9606854d5eb1d82e90072584ccb0dcabe4daf2f","urls":["bzz-raw://bfe9874fd01dac6fd9d59d53c7d14594603d6592c2d7a2a05672d957c776945d","dweb:/ipfs/QmTqw5d7LYjS8JHhBP7kfApZ9EV6TC8UkM5nc1wfZeHdE1"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"contracts/libraries/LibDiamond.sol","id":3067,"exportedSymbols":{"IDiamondCut":[1877],"LibDiamond":[3066]},"nodeType":"SourceUnit","src":"32:11736:17","nodes":[{"id":2202,"nodeType":"PragmaDirective","src":"32:23:17","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":2204,"nodeType":"ImportDirective","src":"361:58:17","nodes":[],"absolutePath":"contracts/interfaces/IDiamondCut.sol","file":"../interfaces/IDiamondCut.sol","nameLocation":"-1:-1:-1","scope":3067,"sourceUnit":1878,"symbolAliases":[{"foreign":{"id":2203,"name":"IDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1877,"src":"369:11:17","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":3066,"nodeType":"ContractDefinition","src":"421:11346:17","nodes":[{"id":2206,"nodeType":"ErrorDefinition","src":"446:30:17","nodes":[],"errorSelector":"062f2eb8","name":"InValidFacetCutAction","nameLocation":"452:21:17","parameters":{"id":2205,"nodeType":"ParameterList","parameters":[],"src":"473:2:17"}},{"id":2208,"nodeType":"ErrorDefinition","src":"481:24:17","nodes":[],"errorSelector":"30580810","name":"NotDiamondOwner","nameLocation":"487:15:17","parameters":{"id":2207,"nodeType":"ParameterList","parameters":[],"src":"502:2:17"}},{"id":2210,"nodeType":"ErrorDefinition","src":"510:27:17","nodes":[],"errorSelector":"92d2fe50","name":"NoSelectorsInFacet","nameLocation":"516:18:17","parameters":{"id":2209,"nodeType":"ParameterList","parameters":[],"src":"534:2:17"}},{"id":2212,"nodeType":"ErrorDefinition","src":"542:22:17","nodes":[],"errorSelector":"ddbadd5f","name":"NoZeroAddress","nameLocation":"548:13:17","parameters":{"id":2211,"nodeType":"ParameterList","parameters":[],"src":"561:2:17"}},{"id":2216,"nodeType":"ErrorDefinition","src":"569:38:17","nodes":[],"errorSelector":"501e70c7","name":"SelectorExists","nameLocation":"575:14:17","parameters":{"id":2215,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2214,"mutability":"mutable","name":"selector","nameLocation":"597:8:17","nodeType":"VariableDeclaration","scope":2216,"src":"590:15:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2213,"name":"bytes4","nodeType":"ElementaryTypeName","src":"590:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"589:17:17"}},{"id":2220,"nodeType":"ErrorDefinition","src":"612:47:17","nodes":[],"errorSelector":"e020c458","name":"SameSelectorReplacement","nameLocation":"618:23:17","parameters":{"id":2219,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2218,"mutability":"mutable","name":"selector","nameLocation":"649:8:17","nodeType":"VariableDeclaration","scope":2220,"src":"642:15:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2217,"name":"bytes4","nodeType":"ElementaryTypeName","src":"642:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"641:17:17"}},{"id":2222,"nodeType":"ErrorDefinition","src":"664:26:17","nodes":[],"errorSelector":"6f997f94","name":"MustBeZeroAddress","nameLocation":"670:17:17","parameters":{"id":2221,"nodeType":"ParameterList","parameters":[],"src":"687:2:17"}},{"id":2224,"nodeType":"ErrorDefinition","src":"695:15:17","nodes":[],"errorSelector":"f046a714","name":"NoCode","nameLocation":"701:6:17","parameters":{"id":2223,"nodeType":"ParameterList","parameters":[],"src":"707:2:17"}},{"id":2228,"nodeType":"ErrorDefinition","src":"715:43:17","nodes":[],"errorSelector":"5205a600","name":"NonExistentSelector","nameLocation":"721:19:17","parameters":{"id":2227,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2226,"mutability":"mutable","name":"selector","nameLocation":"748:8:17","nodeType":"VariableDeclaration","scope":2228,"src":"741:15:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2225,"name":"bytes4","nodeType":"ElementaryTypeName","src":"741:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"740:17:17"}},{"id":2232,"nodeType":"ErrorDefinition","src":"763:41:17","nodes":[],"errorSelector":"69731c50","name":"ImmutableFunction","nameLocation":"769:17:17","parameters":{"id":2231,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2230,"mutability":"mutable","name":"selector","nameLocation":"794:8:17","nodeType":"VariableDeclaration","scope":2232,"src":"787:15:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2229,"name":"bytes4","nodeType":"ElementaryTypeName","src":"787:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"786:17:17"}},{"id":2234,"nodeType":"ErrorDefinition","src":"809:25:17","nodes":[],"errorSelector":"c21b1ab7","name":"NonEmptyCalldata","nameLocation":"815:16:17","parameters":{"id":2233,"nodeType":"ParameterList","parameters":[],"src":"831:2:17"}},{"id":2236,"nodeType":"ErrorDefinition","src":"839:22:17","nodes":[],"errorSelector":"c047a184","name":"EmptyCalldata","nameLocation":"845:13:17","parameters":{"id":2235,"nodeType":"ParameterList","parameters":[],"src":"858:2:17"}},{"id":2238,"nodeType":"ErrorDefinition","src":"866:23:17","nodes":[],"errorSelector":"3a18f8dd","name":"InitCallFailed","nameLocation":"872:14:17","parameters":{"id":2237,"nodeType":"ParameterList","parameters":[],"src":"886:2:17"}},{"id":2243,"nodeType":"VariableDeclaration","src":"894:97:17","nodes":[],"constant":true,"mutability":"constant","name":"DIAMOND_STORAGE_POSITION","nameLocation":"911:24:17","scope":3066,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2239,"name":"bytes32","nodeType":"ElementaryTypeName","src":"894:7:17","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"arguments":[{"hexValue":"6469616d6f6e642e7374616e646172642e6469616d6f6e642e73746f72616765","id":2241,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"956:34:17","typeDescriptions":{"typeIdentifier":"t_stringliteral_c8fcad8db84d3cc18b4c41d551ea0ee66dd599cde068d998e57d5e09332c131c","typeString":"literal_string \"diamond.standard.diamond.storage\""},"value":"diamond.standard.diamond.storage"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_c8fcad8db84d3cc18b4c41d551ea0ee66dd599cde068d998e57d5e09332c131c","typeString":"literal_string \"diamond.standard.diamond.storage\""}],"id":2240,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"946:9:17","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":2242,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"946:45:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"},{"id":2248,"nodeType":"StructDefinition","src":"998:171:17","nodes":[],"canonicalName":"LibDiamond.FacetAddressAndPosition","members":[{"constant":false,"id":2245,"mutability":"mutable","name":"facetAddress","nameLocation":"1047:12:17","nodeType":"VariableDeclaration","scope":2248,"src":"1039:20:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2244,"name":"address","nodeType":"ElementaryTypeName","src":"1039:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2247,"mutability":"mutable","name":"functionSelectorPosition","nameLocation":"1076:24:17","nodeType":"VariableDeclaration","scope":2248,"src":"1069:31:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"},"typeName":{"id":2246,"name":"uint96","nodeType":"ElementaryTypeName","src":"1069:6:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"visibility":"internal"}],"name":"FacetAddressAndPosition","nameLocation":"1005:23:17","scope":3066,"visibility":"public"},{"id":2254,"nodeType":"StructDefinition","src":"1175:163:17","nodes":[],"canonicalName":"LibDiamond.FacetFunctionSelectors","members":[{"constant":false,"id":2251,"mutability":"mutable","name":"functionSelectors","nameLocation":"1224:17:17","nodeType":"VariableDeclaration","scope":2254,"src":"1215:26:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":2249,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1215:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":2250,"nodeType":"ArrayTypeName","src":"1215:8:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"},{"constant":false,"id":2253,"mutability":"mutable","name":"facetAddressPosition","nameLocation":"1259:20:17","nodeType":"VariableDeclaration","scope":2254,"src":"1251:28:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2252,"name":"uint256","nodeType":"ElementaryTypeName","src":"1251:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"FacetFunctionSelectors","nameLocation":"1182:22:17","scope":3066,"visibility":"public"},{"id":2274,"nodeType":"StructDefinition","src":"1344:662:17","nodes":[],"canonicalName":"LibDiamond.DiamondStorage","members":[{"constant":false,"id":2259,"mutability":"mutable","name":"selectorToFacetAndPosition","nameLocation":"1564:26:17","nodeType":"VariableDeclaration","scope":2274,"src":"1521:69:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$2248_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition)"},"typeName":{"id":2258,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":2255,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1529:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Mapping","src":"1521:42:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$2248_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":2257,"nodeType":"UserDefinedTypeName","pathNode":{"id":2256,"name":"FacetAddressAndPosition","nameLocations":["1539:23:17"],"nodeType":"IdentifierPath","referencedDeclaration":2248,"src":"1539:23:17"},"referencedDeclaration":2248,"src":"1539:23:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$2248_storage_ptr","typeString":"struct LibDiamond.FacetAddressAndPosition"}}},"visibility":"internal"},{"constant":false,"id":2264,"mutability":"mutable","name":"facetFunctionSelectors","nameLocation":"1697:22:17","nodeType":"VariableDeclaration","scope":2274,"src":"1654:65:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$2254_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors)"},"typeName":{"id":2263,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":2260,"name":"address","nodeType":"ElementaryTypeName","src":"1662:7:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Mapping","src":"1654:42:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$2254_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":2262,"nodeType":"UserDefinedTypeName","pathNode":{"id":2261,"name":"FacetFunctionSelectors","nameLocations":["1673:22:17"],"nodeType":"IdentifierPath","referencedDeclaration":2254,"src":"1673:22:17"},"referencedDeclaration":2254,"src":"1673:22:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$2254_storage_ptr","typeString":"struct LibDiamond.FacetFunctionSelectors"}}},"visibility":"internal"},{"constant":false,"id":2267,"mutability":"mutable","name":"facetAddresses","nameLocation":"1766:14:17","nodeType":"VariableDeclaration","scope":2274,"src":"1756:24:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":2265,"name":"address","nodeType":"ElementaryTypeName","src":"1756:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2266,"nodeType":"ArrayTypeName","src":"1756:9:17","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":2271,"mutability":"mutable","name":"supportedInterfaces","nameLocation":"1916:19:17","nodeType":"VariableDeclaration","scope":2274,"src":"1892:43:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_bool_$","typeString":"mapping(bytes4 => bool)"},"typeName":{"id":2270,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":2268,"name":"bytes4","nodeType":"ElementaryTypeName","src":"1900:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Mapping","src":"1892:23:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_bool_$","typeString":"mapping(bytes4 => bool)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":2269,"name":"bool","nodeType":"ElementaryTypeName","src":"1910:4:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}}},"visibility":"internal"},{"constant":false,"id":2273,"mutability":"mutable","name":"contractOwner","nameLocation":"1986:13:17","nodeType":"VariableDeclaration","scope":2274,"src":"1978:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2272,"name":"address","nodeType":"ElementaryTypeName","src":"1978:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"name":"DiamondStorage","nameLocation":"1351:14:17","scope":3066,"visibility":"public"},{"id":2286,"nodeType":"FunctionDefinition","src":"2012:225:17","nodes":[],"body":{"id":2285,"nodeType":"Block","src":"2116:121:17","nodes":[],"statements":[{"assignments":[2281],"declarations":[{"constant":false,"id":2281,"mutability":"mutable","name":"position","nameLocation":"2134:8:17","nodeType":"VariableDeclaration","scope":2285,"src":"2126:16:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":2280,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2126:7:17","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":2283,"initialValue":{"id":2282,"name":"DIAMOND_STORAGE_POSITION","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2243,"src":"2145:24:17","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"2126:43:17"},{"AST":{"nativeSrc":"2188:43:17","nodeType":"YulBlock","src":"2188:43:17","statements":[{"nativeSrc":"2202:19:17","nodeType":"YulAssignment","src":"2202:19:17","value":{"name":"position","nativeSrc":"2213:8:17","nodeType":"YulIdentifier","src":"2213:8:17"},"variableNames":[{"name":"ds.slot","nativeSrc":"2202:7:17","nodeType":"YulIdentifier","src":"2202:7:17"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":2278,"isOffset":false,"isSlot":true,"src":"2202:7:17","suffix":"slot","valueSize":1},{"declaration":2281,"isOffset":false,"isSlot":false,"src":"2213:8:17","valueSize":1}],"id":2284,"nodeType":"InlineAssembly","src":"2179:52:17"}]},"implemented":true,"kind":"function","modifiers":[],"name":"diamondStorage","nameLocation":"2021:14:17","parameters":{"id":2275,"nodeType":"ParameterList","parameters":[],"src":"2035:2:17"},"returnParameters":{"id":2279,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2278,"mutability":"mutable","name":"ds","nameLocation":"2108:2:17","nodeType":"VariableDeclaration","scope":2286,"src":"2085:25:17","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":2277,"nodeType":"UserDefinedTypeName","pathNode":{"id":2276,"name":"DiamondStorage","nameLocations":["2085:14:17"],"nodeType":"IdentifierPath","referencedDeclaration":2274,"src":"2085:14:17"},"referencedDeclaration":2274,"src":"2085:14:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"src":"2084:27:17"},"scope":3066,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":2292,"nodeType":"EventDefinition","src":"2243:106:17","nodes":[],"anonymous":false,"eventSelector":"8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0","name":"OwnershipTransferred","nameLocation":"2249:20:17","parameters":{"id":2291,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2288,"indexed":true,"mutability":"mutable","name":"previousOwner","nameLocation":"2295:13:17","nodeType":"VariableDeclaration","scope":2292,"src":"2279:29:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2287,"name":"address","nodeType":"ElementaryTypeName","src":"2279:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2290,"indexed":true,"mutability":"mutable","name":"newOwner","nameLocation":"2334:8:17","nodeType":"VariableDeclaration","scope":2292,"src":"2318:24:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2289,"name":"address","nodeType":"ElementaryTypeName","src":"2318:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2269:79:17"}},{"id":2320,"nodeType":"FunctionDefinition","src":"2355:264:17","nodes":[],"body":{"id":2319,"nodeType":"Block","src":"2409:210:17","nodes":[],"statements":[{"assignments":[2299],"declarations":[{"constant":false,"id":2299,"mutability":"mutable","name":"ds","nameLocation":"2442:2:17","nodeType":"VariableDeclaration","scope":2319,"src":"2419:25:17","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":2298,"nodeType":"UserDefinedTypeName","pathNode":{"id":2297,"name":"DiamondStorage","nameLocations":["2419:14:17"],"nodeType":"IdentifierPath","referencedDeclaration":2274,"src":"2419:14:17"},"referencedDeclaration":2274,"src":"2419:14:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":2302,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":2300,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2286,"src":"2447:14:17","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$2274_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":2301,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2447:16:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"2419:44:17"},{"assignments":[2304],"declarations":[{"constant":false,"id":2304,"mutability":"mutable","name":"previousOwner","nameLocation":"2481:13:17","nodeType":"VariableDeclaration","scope":2319,"src":"2473:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2303,"name":"address","nodeType":"ElementaryTypeName","src":"2473:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":2307,"initialValue":{"expression":{"id":2305,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2299,"src":"2497:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2306,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2500:13:17","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":2273,"src":"2497:16:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"2473:40:17"},{"expression":{"id":2312,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":2308,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2299,"src":"2523:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2310,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2526:13:17","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":2273,"src":"2523:16:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":2311,"name":"_newOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2294,"src":"2542:9:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2523:28:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2313,"nodeType":"ExpressionStatement","src":"2523:28:17"},{"eventCall":{"arguments":[{"id":2315,"name":"previousOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2304,"src":"2587:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":2316,"name":"_newOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2294,"src":"2602:9:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"id":2314,"name":"OwnershipTransferred","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2292,"src":"2566:20:17","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_address_$_t_address_$returns$__$","typeString":"function (address,address)"}},"id":2317,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2566:46:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2318,"nodeType":"EmitStatement","src":"2561:51:17"}]},"implemented":true,"kind":"function","modifiers":[],"name":"setContractOwner","nameLocation":"2364:16:17","parameters":{"id":2295,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2294,"mutability":"mutable","name":"_newOwner","nameLocation":"2389:9:17","nodeType":"VariableDeclaration","scope":2320,"src":"2381:17:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2293,"name":"address","nodeType":"ElementaryTypeName","src":"2381:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2380:19:17"},"returnParameters":{"id":2296,"nodeType":"ParameterList","parameters":[],"src":"2409:0:17"},"scope":3066,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":2332,"nodeType":"FunctionDefinition","src":"2625:136:17","nodes":[],"body":{"id":2331,"nodeType":"Block","src":"2697:64:17","nodes":[],"statements":[{"expression":{"id":2329,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":2325,"name":"contractOwner_","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2323,"src":"2707:14:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":2326,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2286,"src":"2724:14:17","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$2274_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":2327,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2724:16:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2328,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2741:13:17","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":2273,"src":"2724:30:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2707:47:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2330,"nodeType":"ExpressionStatement","src":"2707:47:17"}]},"implemented":true,"kind":"function","modifiers":[],"name":"contractOwner","nameLocation":"2634:13:17","parameters":{"id":2321,"nodeType":"ParameterList","parameters":[],"src":"2647:2:17"},"returnParameters":{"id":2324,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2323,"mutability":"mutable","name":"contractOwner_","nameLocation":"2681:14:17","nodeType":"VariableDeclaration","scope":2332,"src":"2673:22:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2322,"name":"address","nodeType":"ElementaryTypeName","src":"2673:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"2672:24:17"},"scope":3066,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":2346,"nodeType":"FunctionDefinition","src":"2767:151:17","nodes":[],"body":{"id":2345,"nodeType":"Block","src":"2815:103:17","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2340,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":2335,"name":"msg","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-15,"src":"2829:3:17","typeDescriptions":{"typeIdentifier":"t_magic_message","typeString":"msg"}},"id":2336,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2833:6:17","memberName":"sender","nodeType":"MemberAccess","src":"2829:10:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"id":2337,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2286,"src":"2843:14:17","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$2274_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":2338,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2843:16:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2339,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2860:13:17","memberName":"contractOwner","nodeType":"MemberAccess","referencedDeclaration":2273,"src":"2843:30:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2829:44:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2344,"nodeType":"IfStatement","src":"2825:86:17","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":2341,"name":"NotDiamondOwner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2208,"src":"2894:15:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":2342,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2894:17:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":2343,"nodeType":"RevertStatement","src":"2887:24:17"}}]},"implemented":true,"kind":"function","modifiers":[],"name":"enforceIsContractOwner","nameLocation":"2776:22:17","parameters":{"id":2333,"nodeType":"ParameterList","parameters":[],"src":"2798:2:17"},"returnParameters":{"id":2334,"nodeType":"ParameterList","parameters":[],"src":"2815:0:17"},"scope":3066,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":2356,"nodeType":"EventDefinition","src":"2924:115:17","nodes":[],"anonymous":false,"eventSelector":"8faa70878671ccd212d20771b795c50af8fd3ff6cf27f4bde57e5d4de0aeb673","name":"DiamondCut","nameLocation":"2930:10:17","parameters":{"id":2355,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2350,"indexed":false,"mutability":"mutable","name":"_diamondCut","nameLocation":"2973:11:17","nodeType":"VariableDeclaration","scope":2356,"src":"2950:34:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$1854_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut[]"},"typeName":{"baseType":{"id":2348,"nodeType":"UserDefinedTypeName","pathNode":{"id":2347,"name":"IDiamondCut.FacetCut","nameLocations":["2950:11:17","2962:8:17"],"nodeType":"IdentifierPath","referencedDeclaration":1854,"src":"2950:20:17"},"referencedDeclaration":1854,"src":"2950:20:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$1854_storage_ptr","typeString":"struct IDiamondCut.FacetCut"}},"id":2349,"nodeType":"ArrayTypeName","src":"2950:22:17","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$1854_storage_$dyn_storage_ptr","typeString":"struct IDiamondCut.FacetCut[]"}},"visibility":"internal"},{"constant":false,"id":2352,"indexed":false,"mutability":"mutable","name":"_init","nameLocation":"3002:5:17","nodeType":"VariableDeclaration","scope":2356,"src":"2994:13:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2351,"name":"address","nodeType":"ElementaryTypeName","src":"2994:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2354,"indexed":false,"mutability":"mutable","name":"_calldata","nameLocation":"3023:9:17","nodeType":"VariableDeclaration","scope":2356,"src":"3017:15:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":2353,"name":"bytes","nodeType":"ElementaryTypeName","src":"3017:5:17","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"2940:98:17"}},{"id":2459,"nodeType":"FunctionDefinition","src":"3092:1268:17","nodes":[],"body":{"id":2458,"nodeType":"Block","src":"3233:1127:17","nodes":[],"statements":[{"body":{"id":2445,"nodeType":"Block","src":"3361:889:17","statements":[{"assignments":[2381],"declarations":[{"constant":false,"id":2381,"mutability":"mutable","name":"action","nameLocation":"3402:6:17","nodeType":"VariableDeclaration","scope":2445,"src":"3375:33:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$1845","typeString":"enum IDiamondCut.FacetCutAction"},"typeName":{"id":2380,"nodeType":"UserDefinedTypeName","pathNode":{"id":2379,"name":"IDiamondCut.FacetCutAction","nameLocations":["3375:11:17","3387:14:17"],"nodeType":"IdentifierPath","referencedDeclaration":1845,"src":"3375:26:17"},"referencedDeclaration":1845,"src":"3375:26:17","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$1845","typeString":"enum IDiamondCut.FacetCutAction"}},"visibility":"internal"}],"id":2386,"initialValue":{"expression":{"baseExpression":{"id":2382,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2360,"src":"3411:11:17","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$1854_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":2384,"indexExpression":{"id":2383,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2368,"src":"3423:10:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3411:23:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$1854_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory"}},"id":2385,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3435:6:17","memberName":"action","nodeType":"MemberAccess","referencedDeclaration":1850,"src":"3411:30:17","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$1845","typeString":"enum IDiamondCut.FacetCutAction"}},"nodeType":"VariableDeclarationStatement","src":"3375:66:17"},{"condition":{"commonType":{"typeIdentifier":"t_enum$_FacetCutAction_$1845","typeString":"enum IDiamondCut.FacetCutAction"},"id":2391,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2387,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2381,"src":"3459:6:17","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$1845","typeString":"enum IDiamondCut.FacetCutAction"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":2388,"name":"IDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1877,"src":"3469:11:17","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamondCut_$1877_$","typeString":"type(contract IDiamondCut)"}},"id":2389,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3481:14:17","memberName":"FacetCutAction","nodeType":"MemberAccess","referencedDeclaration":1845,"src":"3469:26:17","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_FacetCutAction_$1845_$","typeString":"type(enum IDiamondCut.FacetCutAction)"}},"id":2390,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3496:3:17","memberName":"Add","nodeType":"MemberAccess","referencedDeclaration":1842,"src":"3469:30:17","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$1845","typeString":"enum IDiamondCut.FacetCutAction"}},"src":"3459:40:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_FacetCutAction_$1845","typeString":"enum IDiamondCut.FacetCutAction"},"id":2408,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2404,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2381,"src":"3695:6:17","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$1845","typeString":"enum IDiamondCut.FacetCutAction"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":2405,"name":"IDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1877,"src":"3705:11:17","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamondCut_$1877_$","typeString":"type(contract IDiamondCut)"}},"id":2406,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3717:14:17","memberName":"FacetCutAction","nodeType":"MemberAccess","referencedDeclaration":1845,"src":"3705:26:17","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_FacetCutAction_$1845_$","typeString":"type(enum IDiamondCut.FacetCutAction)"}},"id":2407,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3732:7:17","memberName":"Replace","nodeType":"MemberAccess","referencedDeclaration":1843,"src":"3705:34:17","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$1845","typeString":"enum IDiamondCut.FacetCutAction"}},"src":"3695:44:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_enum$_FacetCutAction_$1845","typeString":"enum IDiamondCut.FacetCutAction"},"id":2425,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2421,"name":"action","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2381,"src":"3939:6:17","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$1845","typeString":"enum IDiamondCut.FacetCutAction"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"expression":{"id":2422,"name":"IDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1877,"src":"3949:11:17","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IDiamondCut_$1877_$","typeString":"type(contract IDiamondCut)"}},"id":2423,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3961:14:17","memberName":"FacetCutAction","nodeType":"MemberAccess","referencedDeclaration":1845,"src":"3949:26:17","typeDescriptions":{"typeIdentifier":"t_type$_t_enum$_FacetCutAction_$1845_$","typeString":"type(enum IDiamondCut.FacetCutAction)"}},"id":2424,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"3976:6:17","memberName":"Remove","nodeType":"MemberAccess","referencedDeclaration":1844,"src":"3949:33:17","typeDescriptions":{"typeIdentifier":"t_enum$_FacetCutAction_$1845","typeString":"enum IDiamondCut.FacetCutAction"}},"src":"3939:43:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":2441,"nodeType":"Block","src":"4177:63:17","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":2438,"name":"InValidFacetCutAction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2206,"src":"4202:21:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":2439,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4202:23:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":2440,"nodeType":"RevertStatement","src":"4195:30:17"}]},"id":2442,"nodeType":"IfStatement","src":"3935:305:17","trueBody":{"id":2437,"nodeType":"Block","src":"3984:187:17","statements":[{"expression":{"arguments":[{"expression":{"baseExpression":{"id":2427,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2360,"src":"4039:11:17","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$1854_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":2429,"indexExpression":{"id":2428,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2368,"src":"4051:10:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4039:23:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$1854_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory"}},"id":2430,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4063:12:17","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":1847,"src":"4039:36:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"baseExpression":{"id":2431,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2360,"src":"4097:11:17","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$1854_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":2433,"indexExpression":{"id":2432,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2368,"src":"4109:10:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4097:23:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$1854_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory"}},"id":2434,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4121:17:17","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":1853,"src":"4097:41:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":2426,"name":"removeFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2731,"src":"4002:15:17","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":2435,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4002:154:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2436,"nodeType":"ExpressionStatement","src":"4002:154:17"}]}},"id":2443,"nodeType":"IfStatement","src":"3691:549:17","trueBody":{"id":2420,"nodeType":"Block","src":"3741:188:17","statements":[{"expression":{"arguments":[{"expression":{"baseExpression":{"id":2410,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2360,"src":"3797:11:17","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$1854_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":2412,"indexExpression":{"id":2411,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2368,"src":"3809:10:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3797:23:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$1854_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory"}},"id":2413,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3821:12:17","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":1847,"src":"3797:36:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"baseExpression":{"id":2414,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2360,"src":"3855:11:17","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$1854_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":2416,"indexExpression":{"id":2415,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2368,"src":"3867:10:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3855:23:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$1854_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory"}},"id":2417,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3879:17:17","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":1853,"src":"3855:41:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":2409,"name":"replaceFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2666,"src":"3759:16:17","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":2418,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3759:155:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2419,"nodeType":"ExpressionStatement","src":"3759:155:17"}]}},"id":2444,"nodeType":"IfStatement","src":"3455:785:17","trueBody":{"id":2403,"nodeType":"Block","src":"3501:184:17","statements":[{"expression":{"arguments":[{"expression":{"baseExpression":{"id":2393,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2360,"src":"3553:11:17","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$1854_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":2395,"indexExpression":{"id":2394,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2368,"src":"3565:10:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3553:23:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$1854_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory"}},"id":2396,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3577:12:17","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":1847,"src":"3553:36:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"baseExpression":{"id":2397,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2360,"src":"3611:11:17","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$1854_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":2399,"indexExpression":{"id":2398,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2368,"src":"3623:10:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"3611:23:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$1854_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory"}},"id":2400,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3635:17:17","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":1853,"src":"3611:41:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}],"id":2392,"name":"addFunctions","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2561,"src":"3519:12:17","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_array$_t_bytes4_$dyn_memory_ptr_$returns$__$","typeString":"function (address,bytes4[] memory)"}},"id":2401,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3519:151:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2402,"nodeType":"ExpressionStatement","src":"3519:151:17"}]}}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2373,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2370,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2368,"src":"3293:10:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":2371,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2360,"src":"3306:11:17","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$1854_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},"id":2372,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3318:6:17","memberName":"length","nodeType":"MemberAccess","src":"3306:18:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3293:31:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2446,"initializationExpression":{"assignments":[2368],"declarations":[{"constant":false,"id":2368,"mutability":"mutable","name":"facetIndex","nameLocation":"3269:10:17","nodeType":"VariableDeclaration","scope":2446,"src":"3261:18:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2367,"name":"uint256","nodeType":"ElementaryTypeName","src":"3261:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":2369,"nodeType":"VariableDeclarationStatement","src":"3261:18:17"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":2375,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"3338:12:17","subExpression":{"id":2374,"name":"facetIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2368,"src":"3338:10:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2376,"nodeType":"ExpressionStatement","src":"3338:12:17"},"nodeType":"ForStatement","src":"3243:1007:17"},{"eventCall":{"arguments":[{"id":2448,"name":"_diamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2360,"src":"4275:11:17","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$1854_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"}},{"id":2449,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2362,"src":"4288:5:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":2450,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2364,"src":"4295:9:17","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_array$_t_struct$_FacetCut_$1854_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut memory[] memory"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2447,"name":"DiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2356,"src":"4264:10:17","typeDescriptions":{"typeIdentifier":"t_function_event_nonpayable$_t_array$_t_struct$_FacetCut_$1854_memory_ptr_$dyn_memory_ptr_$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (struct IDiamondCut.FacetCut memory[] memory,address,bytes memory)"}},"id":2451,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4264:41:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2452,"nodeType":"EmitStatement","src":"4259:46:17"},{"expression":{"arguments":[{"id":2454,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2362,"src":"4336:5:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":2455,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2364,"src":"4343:9:17","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":2453,"name":"initializeDiamondCut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3048,"src":"4315:20:17","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_address_$_t_bytes_memory_ptr_$returns$__$","typeString":"function (address,bytes memory)"}},"id":2456,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4315:38:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2457,"nodeType":"ExpressionStatement","src":"4315:38:17"}]},"implemented":true,"kind":"function","modifiers":[],"name":"diamondCut","nameLocation":"3101:10:17","parameters":{"id":2365,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2360,"mutability":"mutable","name":"_diamondCut","nameLocation":"3151:11:17","nodeType":"VariableDeclaration","scope":2459,"src":"3121:41:17","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$1854_memory_ptr_$dyn_memory_ptr","typeString":"struct IDiamondCut.FacetCut[]"},"typeName":{"baseType":{"id":2358,"nodeType":"UserDefinedTypeName","pathNode":{"id":2357,"name":"IDiamondCut.FacetCut","nameLocations":["3121:11:17","3133:8:17"],"nodeType":"IdentifierPath","referencedDeclaration":1854,"src":"3121:20:17"},"referencedDeclaration":1854,"src":"3121:20:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetCut_$1854_storage_ptr","typeString":"struct IDiamondCut.FacetCut"}},"id":2359,"nodeType":"ArrayTypeName","src":"3121:22:17","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_FacetCut_$1854_storage_$dyn_storage_ptr","typeString":"struct IDiamondCut.FacetCut[]"}},"visibility":"internal"},{"constant":false,"id":2362,"mutability":"mutable","name":"_init","nameLocation":"3180:5:17","nodeType":"VariableDeclaration","scope":2459,"src":"3172:13:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2361,"name":"address","nodeType":"ElementaryTypeName","src":"3172:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2364,"mutability":"mutable","name":"_calldata","nameLocation":"3208:9:17","nodeType":"VariableDeclaration","scope":2459,"src":"3195:22:17","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":2363,"name":"bytes","nodeType":"ElementaryTypeName","src":"3195:5:17","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"3111:112:17"},"returnParameters":{"id":2366,"nodeType":"ParameterList","parameters":[],"src":"3233:0:17"},"scope":3066,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":2561,"nodeType":"FunctionDefinition","src":"4366:1113:17","nodes":[],"body":{"id":2560,"nodeType":"Block","src":"4478:1001:17","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2470,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":2467,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2464,"src":"4492:18:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":2468,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4511:6:17","memberName":"length","nodeType":"MemberAccess","src":"4492:25:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"hexValue":"30","id":2469,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4521:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4492:30:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2474,"nodeType":"IfStatement","src":"4488:63:17","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":2471,"name":"NoSelectorsInFacet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2210,"src":"4531:18:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":2472,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4531:20:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":2473,"nodeType":"RevertStatement","src":"4524:27:17"}},{"assignments":[2477],"declarations":[{"constant":false,"id":2477,"mutability":"mutable","name":"ds","nameLocation":"4584:2:17","nodeType":"VariableDeclaration","scope":2560,"src":"4561:25:17","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":2476,"nodeType":"UserDefinedTypeName","pathNode":{"id":2475,"name":"DiamondStorage","nameLocations":["4561:14:17"],"nodeType":"IdentifierPath","referencedDeclaration":2274,"src":"4561:14:17"},"referencedDeclaration":2274,"src":"4561:14:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":2480,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":2478,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2286,"src":"4589:14:17","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$2274_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":2479,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4589:16:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"4561:44:17"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2486,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2481,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2461,"src":"4619:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":2484,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4644:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2483,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4636:7:17","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":2482,"name":"address","nodeType":"ElementaryTypeName","src":"4636:7:17","typeDescriptions":{}}},"id":2485,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4636:10:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"4619:27:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2490,"nodeType":"IfStatement","src":"4615:55:17","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":2487,"name":"NoZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2212,"src":"4655:13:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":2488,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4655:15:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":2489,"nodeType":"RevertStatement","src":"4648:22:17"}},{"assignments":[2492],"declarations":[{"constant":false,"id":2492,"mutability":"mutable","name":"selectorPosition","nameLocation":"4687:16:17","nodeType":"VariableDeclaration","scope":2560,"src":"4680:23:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"},"typeName":{"id":2491,"name":"uint96","nodeType":"ElementaryTypeName","src":"4680:6:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"visibility":"internal"}],"id":2502,"initialValue":{"arguments":[{"expression":{"expression":{"baseExpression":{"expression":{"id":2495,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2477,"src":"4726:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2496,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4729:22:17","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":2264,"src":"4726:25:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$2254_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":2498,"indexExpression":{"id":2497,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2461,"src":"4752:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"4726:40:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$2254_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":2499,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4767:17:17","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":2251,"src":"4726:58:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":2500,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4785:6:17","memberName":"length","nodeType":"MemberAccess","src":"4726:65:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2494,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"4706:6:17","typeDescriptions":{"typeIdentifier":"t_type$_t_uint96_$","typeString":"type(uint96)"},"typeName":{"id":2493,"name":"uint96","nodeType":"ElementaryTypeName","src":"4706:6:17","typeDescriptions":{}}},"id":2501,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4706:95:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"nodeType":"VariableDeclarationStatement","src":"4680:121:17"},{"condition":{"commonType":{"typeIdentifier":"t_uint96","typeString":"uint96"},"id":2505,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2503,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2492,"src":"4869:16:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":2504,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4889:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4869:21:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2512,"nodeType":"IfStatement","src":"4865:79:17","trueBody":{"id":2511,"nodeType":"Block","src":"4892:52:17","statements":[{"expression":{"arguments":[{"id":2507,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2477,"src":"4915:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},{"id":2508,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2461,"src":"4919:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"},{"typeIdentifier":"t_address","typeString":"address"}],"id":2506,"name":"addFacet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2763,"src":"4906:8:17","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_DiamondStorage_$2274_storage_ptr_$_t_address_$returns$__$","typeString":"function (struct LibDiamond.DiamondStorage storage pointer,address)"}},"id":2509,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4906:27:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2510,"nodeType":"ExpressionStatement","src":"4906:27:17"}]}},{"body":{"id":2558,"nodeType":"Block","src":"5087:386:17","statements":[{"assignments":[2524],"declarations":[{"constant":false,"id":2524,"mutability":"mutable","name":"selector","nameLocation":"5108:8:17","nodeType":"VariableDeclaration","scope":2558,"src":"5101:15:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2523,"name":"bytes4","nodeType":"ElementaryTypeName","src":"5101:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":2528,"initialValue":{"baseExpression":{"id":2525,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2464,"src":"5119:18:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":2527,"indexExpression":{"id":2526,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2514,"src":"5138:13:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5119:33:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"5101:51:17"},{"assignments":[2530],"declarations":[{"constant":false,"id":2530,"mutability":"mutable","name":"oldFacetAddress","nameLocation":"5174:15:17","nodeType":"VariableDeclaration","scope":2558,"src":"5166:23:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2529,"name":"address","nodeType":"ElementaryTypeName","src":"5166:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":2536,"initialValue":{"expression":{"baseExpression":{"expression":{"id":2531,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2477,"src":"5192:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2532,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5212:26:17","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":2259,"src":"5192:46:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$2248_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":2534,"indexExpression":{"id":2533,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2524,"src":"5239:8:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5192:56:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$2248_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"id":2535,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5266:12:17","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":2245,"src":"5192:86:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"5166:112:17"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2542,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2537,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2530,"src":"5296:15:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":2540,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5323:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2539,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5315:7:17","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":2538,"name":"address","nodeType":"ElementaryTypeName","src":"5315:7:17","typeDescriptions":{}}},"id":2541,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5315:10:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5296:29:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2547,"nodeType":"IfStatement","src":"5292:66:17","trueBody":{"errorCall":{"arguments":[{"id":2544,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2524,"src":"5349:8:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":2543,"name":"SelectorExists","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2216,"src":"5334:14:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$_t_error_$","typeString":"function (bytes4) pure returns (error)"}},"id":2545,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5334:24:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":2546,"nodeType":"RevertStatement","src":"5327:31:17"}},{"expression":{"arguments":[{"id":2549,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2477,"src":"5384:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},{"id":2550,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2524,"src":"5388:8:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},{"id":2551,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2492,"src":"5398:16:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},{"id":2552,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2461,"src":"5416:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"},{"typeIdentifier":"t_bytes4","typeString":"bytes4"},{"typeIdentifier":"t_uint96","typeString":"uint96"},{"typeIdentifier":"t_address","typeString":"address"}],"id":2548,"name":"addFunction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2804,"src":"5372:11:17","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_DiamondStorage_$2274_storage_ptr_$_t_bytes4_$_t_uint96_$_t_address_$returns$__$","typeString":"function (struct LibDiamond.DiamondStorage storage pointer,bytes4,uint96,address)"}},"id":2553,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5372:58:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2554,"nodeType":"ExpressionStatement","src":"5372:58:17"},{"expression":{"id":2556,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"5444:18:17","subExpression":{"id":2555,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2492,"src":"5444:16:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"id":2557,"nodeType":"ExpressionStatement","src":"5444:18:17"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2519,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2516,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2514,"src":"5006:13:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":2517,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2464,"src":"5022:18:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":2518,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5041:6:17","memberName":"length","nodeType":"MemberAccess","src":"5022:25:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"5006:41:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2559,"initializationExpression":{"assignments":[2514],"declarations":[{"constant":false,"id":2514,"mutability":"mutable","name":"selectorIndex","nameLocation":"4979:13:17","nodeType":"VariableDeclaration","scope":2559,"src":"4971:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2513,"name":"uint256","nodeType":"ElementaryTypeName","src":"4971:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":2515,"nodeType":"VariableDeclarationStatement","src":"4971:21:17"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":2521,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"5061:15:17","subExpression":{"id":2520,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2514,"src":"5061:13:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2522,"nodeType":"ExpressionStatement","src":"5061:15:17"},"nodeType":"ForStatement","src":"4953:520:17"}]},"implemented":true,"kind":"function","modifiers":[],"name":"addFunctions","nameLocation":"4375:12:17","parameters":{"id":2465,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2461,"mutability":"mutable","name":"_facetAddress","nameLocation":"4405:13:17","nodeType":"VariableDeclaration","scope":2561,"src":"4397:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2460,"name":"address","nodeType":"ElementaryTypeName","src":"4397:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2464,"mutability":"mutable","name":"_functionSelectors","nameLocation":"4444:18:17","nodeType":"VariableDeclaration","scope":2561,"src":"4428:34:17","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":2462,"name":"bytes4","nodeType":"ElementaryTypeName","src":"4428:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":2463,"nodeType":"ArrayTypeName","src":"4428:8:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"4387:81:17"},"returnParameters":{"id":2466,"nodeType":"ParameterList","parameters":[],"src":"4478:0:17"},"scope":3066,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":2666,"nodeType":"FunctionDefinition","src":"5485:1204:17","nodes":[],"body":{"id":2665,"nodeType":"Block","src":"5601:1088:17","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2572,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":2569,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2566,"src":"5615:18:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":2570,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5634:6:17","memberName":"length","nodeType":"MemberAccess","src":"5615:25:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"hexValue":"30","id":2571,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5644:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5615:30:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2576,"nodeType":"IfStatement","src":"5611:63:17","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":2573,"name":"NoSelectorsInFacet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2210,"src":"5654:18:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":2574,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5654:20:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":2575,"nodeType":"RevertStatement","src":"5647:27:17"}},{"assignments":[2579],"declarations":[{"constant":false,"id":2579,"mutability":"mutable","name":"ds","nameLocation":"5707:2:17","nodeType":"VariableDeclaration","scope":2665,"src":"5684:25:17","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":2578,"nodeType":"UserDefinedTypeName","pathNode":{"id":2577,"name":"DiamondStorage","nameLocations":["5684:14:17"],"nodeType":"IdentifierPath","referencedDeclaration":2274,"src":"5684:14:17"},"referencedDeclaration":2274,"src":"5684:14:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":2582,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":2580,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2286,"src":"5712:14:17","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$2274_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":2581,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5712:16:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"5684:44:17"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2588,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2583,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2563,"src":"5742:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":2586,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"5767:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2585,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5759:7:17","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":2584,"name":"address","nodeType":"ElementaryTypeName","src":"5759:7:17","typeDescriptions":{}}},"id":2587,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5759:10:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"5742:27:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2592,"nodeType":"IfStatement","src":"5738:55:17","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":2589,"name":"NoZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2212,"src":"5778:13:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":2590,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5778:15:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":2591,"nodeType":"RevertStatement","src":"5771:22:17"}},{"assignments":[2594],"declarations":[{"constant":false,"id":2594,"mutability":"mutable","name":"selectorPosition","nameLocation":"5810:16:17","nodeType":"VariableDeclaration","scope":2665,"src":"5803:23:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"},"typeName":{"id":2593,"name":"uint96","nodeType":"ElementaryTypeName","src":"5803:6:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"visibility":"internal"}],"id":2604,"initialValue":{"arguments":[{"expression":{"expression":{"baseExpression":{"expression":{"id":2597,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2579,"src":"5849:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2598,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5852:22:17","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":2264,"src":"5849:25:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$2254_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":2600,"indexExpression":{"id":2599,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2563,"src":"5875:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"5849:40:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$2254_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":2601,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"5890:17:17","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":2251,"src":"5849:58:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":2602,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"5908:6:17","memberName":"length","nodeType":"MemberAccess","src":"5849:65:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2596,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"5829:6:17","typeDescriptions":{"typeIdentifier":"t_type$_t_uint96_$","typeString":"type(uint96)"},"typeName":{"id":2595,"name":"uint96","nodeType":"ElementaryTypeName","src":"5829:6:17","typeDescriptions":{}}},"id":2603,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"5829:95:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"nodeType":"VariableDeclarationStatement","src":"5803:121:17"},{"condition":{"commonType":{"typeIdentifier":"t_uint96","typeString":"uint96"},"id":2607,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2605,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2594,"src":"5992:16:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":2606,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6012:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"5992:21:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2614,"nodeType":"IfStatement","src":"5988:79:17","trueBody":{"id":2613,"nodeType":"Block","src":"6015:52:17","statements":[{"expression":{"arguments":[{"id":2609,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2579,"src":"6038:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},{"id":2610,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2563,"src":"6042:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"},{"typeIdentifier":"t_address","typeString":"address"}],"id":2608,"name":"addFacet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2763,"src":"6029:8:17","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_DiamondStorage_$2274_storage_ptr_$_t_address_$returns$__$","typeString":"function (struct LibDiamond.DiamondStorage storage pointer,address)"}},"id":2611,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6029:27:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2612,"nodeType":"ExpressionStatement","src":"6029:27:17"}]}},{"body":{"id":2663,"nodeType":"Block","src":"6210:473:17","statements":[{"assignments":[2626],"declarations":[{"constant":false,"id":2626,"mutability":"mutable","name":"selector","nameLocation":"6231:8:17","nodeType":"VariableDeclaration","scope":2663,"src":"6224:15:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2625,"name":"bytes4","nodeType":"ElementaryTypeName","src":"6224:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":2630,"initialValue":{"baseExpression":{"id":2627,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2566,"src":"6242:18:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":2629,"indexExpression":{"id":2628,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2616,"src":"6261:13:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6242:33:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"6224:51:17"},{"assignments":[2632],"declarations":[{"constant":false,"id":2632,"mutability":"mutable","name":"oldFacetAddress","nameLocation":"6297:15:17","nodeType":"VariableDeclaration","scope":2663,"src":"6289:23:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2631,"name":"address","nodeType":"ElementaryTypeName","src":"6289:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":2638,"initialValue":{"expression":{"baseExpression":{"expression":{"id":2633,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2579,"src":"6315:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2634,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6335:26:17","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":2259,"src":"6315:46:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$2248_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":2636,"indexExpression":{"id":2635,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2626,"src":"6362:8:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"6315:56:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$2248_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"id":2637,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"6389:12:17","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":2245,"src":"6315:86:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"6289:112:17"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2641,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2639,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2632,"src":"6419:15:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":2640,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2563,"src":"6438:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"6419:32:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2646,"nodeType":"IfStatement","src":"6415:94:17","trueBody":{"errorCall":{"arguments":[{"id":2643,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2626,"src":"6500:8:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":2642,"name":"SameSelectorReplacement","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2220,"src":"6476:23:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$_t_error_$","typeString":"function (bytes4) pure returns (error)"}},"id":2644,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6476:33:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":2645,"nodeType":"RevertStatement","src":"6469:40:17"}},{"expression":{"arguments":[{"id":2648,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2579,"src":"6538:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},{"id":2649,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2632,"src":"6542:15:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":2650,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2626,"src":"6559:8:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":2647,"name":"removeFunction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2973,"src":"6523:14:17","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_DiamondStorage_$2274_storage_ptr_$_t_address_$_t_bytes4_$returns$__$","typeString":"function (struct LibDiamond.DiamondStorage storage pointer,address,bytes4)"}},"id":2651,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6523:45:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2652,"nodeType":"ExpressionStatement","src":"6523:45:17"},{"expression":{"arguments":[{"id":2654,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2579,"src":"6594:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},{"id":2655,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2626,"src":"6598:8:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},{"id":2656,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2594,"src":"6608:16:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},{"id":2657,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2563,"src":"6626:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"},{"typeIdentifier":"t_bytes4","typeString":"bytes4"},{"typeIdentifier":"t_uint96","typeString":"uint96"},{"typeIdentifier":"t_address","typeString":"address"}],"id":2653,"name":"addFunction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2804,"src":"6582:11:17","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_DiamondStorage_$2274_storage_ptr_$_t_bytes4_$_t_uint96_$_t_address_$returns$__$","typeString":"function (struct LibDiamond.DiamondStorage storage pointer,bytes4,uint96,address)"}},"id":2658,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6582:58:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2659,"nodeType":"ExpressionStatement","src":"6582:58:17"},{"expression":{"id":2661,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"6654:18:17","subExpression":{"id":2660,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2594,"src":"6654:16:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"id":2662,"nodeType":"ExpressionStatement","src":"6654:18:17"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2621,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2618,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2616,"src":"6129:13:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":2619,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2566,"src":"6145:18:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":2620,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6164:6:17","memberName":"length","nodeType":"MemberAccess","src":"6145:25:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"6129:41:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2664,"initializationExpression":{"assignments":[2616],"declarations":[{"constant":false,"id":2616,"mutability":"mutable","name":"selectorIndex","nameLocation":"6102:13:17","nodeType":"VariableDeclaration","scope":2664,"src":"6094:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2615,"name":"uint256","nodeType":"ElementaryTypeName","src":"6094:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":2617,"nodeType":"VariableDeclarationStatement","src":"6094:21:17"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":2623,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"6184:15:17","subExpression":{"id":2622,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2616,"src":"6184:13:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2624,"nodeType":"ExpressionStatement","src":"6184:15:17"},"nodeType":"ForStatement","src":"6076:607:17"}]},"implemented":true,"kind":"function","modifiers":[],"name":"replaceFunctions","nameLocation":"5494:16:17","parameters":{"id":2567,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2563,"mutability":"mutable","name":"_facetAddress","nameLocation":"5528:13:17","nodeType":"VariableDeclaration","scope":2666,"src":"5520:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2562,"name":"address","nodeType":"ElementaryTypeName","src":"5520:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2566,"mutability":"mutable","name":"_functionSelectors","nameLocation":"5567:18:17","nodeType":"VariableDeclaration","scope":2666,"src":"5551:34:17","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":2564,"name":"bytes4","nodeType":"ElementaryTypeName","src":"5551:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":2565,"nodeType":"ArrayTypeName","src":"5551:8:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"5510:81:17"},"returnParameters":{"id":2568,"nodeType":"ParameterList","parameters":[],"src":"5601:0:17"},"scope":3066,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":2731,"nodeType":"FunctionDefinition","src":"6695:787:17","nodes":[],"body":{"id":2730,"nodeType":"Block","src":"6810:672:17","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2677,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":2674,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2671,"src":"6824:18:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":2675,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"6843:6:17","memberName":"length","nodeType":"MemberAccess","src":"6824:25:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"hexValue":"30","id":2676,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"6853:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"6824:30:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2681,"nodeType":"IfStatement","src":"6820:63:17","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":2678,"name":"NoSelectorsInFacet","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2210,"src":"6863:18:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":2679,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6863:20:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":2680,"nodeType":"RevertStatement","src":"6856:27:17"}},{"assignments":[2684],"declarations":[{"constant":false,"id":2684,"mutability":"mutable","name":"ds","nameLocation":"6916:2:17","nodeType":"VariableDeclaration","scope":2730,"src":"6893:25:17","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":2683,"nodeType":"UserDefinedTypeName","pathNode":{"id":2682,"name":"DiamondStorage","nameLocations":["6893:14:17"],"nodeType":"IdentifierPath","referencedDeclaration":2274,"src":"6893:14:17"},"referencedDeclaration":2274,"src":"6893:14:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"}],"id":2687,"initialValue":{"arguments":[],"expression":{"argumentTypes":[],"id":2685,"name":"diamondStorage","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2286,"src":"6921:14:17","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$__$returns$_t_struct$_DiamondStorage_$2274_storage_ptr_$","typeString":"function () pure returns (struct LibDiamond.DiamondStorage storage pointer)"}},"id":2686,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"6921:16:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"nodeType":"VariableDeclarationStatement","src":"6893:44:17"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2693,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2688,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2668,"src":"7016:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":2691,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"7041:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2690,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"7033:7:17","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":2689,"name":"address","nodeType":"ElementaryTypeName","src":"7033:7:17","typeDescriptions":{}}},"id":2692,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7033:10:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"7016:27:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2697,"nodeType":"IfStatement","src":"7012:59:17","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":2694,"name":"MustBeZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2222,"src":"7052:17:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":2695,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7052:19:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":2696,"nodeType":"RevertStatement","src":"7045:26:17"}},{"body":{"id":2728,"nodeType":"Block","src":"7215:261:17","statements":[{"assignments":[2709],"declarations":[{"constant":false,"id":2709,"mutability":"mutable","name":"selector","nameLocation":"7236:8:17","nodeType":"VariableDeclaration","scope":2728,"src":"7229:15:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2708,"name":"bytes4","nodeType":"ElementaryTypeName","src":"7229:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":2713,"initialValue":{"baseExpression":{"id":2710,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2671,"src":"7247:18:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":2712,"indexExpression":{"id":2711,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2699,"src":"7266:13:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7247:33:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"7229:51:17"},{"assignments":[2715],"declarations":[{"constant":false,"id":2715,"mutability":"mutable","name":"oldFacetAddress","nameLocation":"7302:15:17","nodeType":"VariableDeclaration","scope":2728,"src":"7294:23:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2714,"name":"address","nodeType":"ElementaryTypeName","src":"7294:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":2721,"initialValue":{"expression":{"baseExpression":{"expression":{"id":2716,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2684,"src":"7320:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2717,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7340:26:17","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":2259,"src":"7320:46:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$2248_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":2719,"indexExpression":{"id":2718,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2709,"src":"7367:8:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7320:56:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$2248_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"id":2720,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7394:12:17","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":2245,"src":"7320:86:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"7294:112:17"},{"expression":{"arguments":[{"id":2723,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2684,"src":"7435:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},{"id":2724,"name":"oldFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2715,"src":"7439:15:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":2725,"name":"selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2709,"src":"7456:8:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":2722,"name":"removeFunction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2973,"src":"7420:14:17","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_DiamondStorage_$2274_storage_ptr_$_t_address_$_t_bytes4_$returns$__$","typeString":"function (struct LibDiamond.DiamondStorage storage pointer,address,bytes4)"}},"id":2726,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7420:45:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2727,"nodeType":"ExpressionStatement","src":"7420:45:17"}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2704,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2701,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2699,"src":"7134:13:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"expression":{"id":2702,"name":"_functionSelectors","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2671,"src":"7150:18:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[] memory"}},"id":2703,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7169:6:17","memberName":"length","nodeType":"MemberAccess","src":"7150:25:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7134:41:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2729,"initializationExpression":{"assignments":[2699],"declarations":[{"constant":false,"id":2699,"mutability":"mutable","name":"selectorIndex","nameLocation":"7107:13:17","nodeType":"VariableDeclaration","scope":2729,"src":"7099:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2698,"name":"uint256","nodeType":"ElementaryTypeName","src":"7099:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":2700,"nodeType":"VariableDeclarationStatement","src":"7099:21:17"},"isSimpleCounterLoop":true,"loopExpression":{"expression":{"id":2706,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":false,"src":"7189:15:17","subExpression":{"id":2705,"name":"selectorIndex","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2699,"src":"7189:13:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2707,"nodeType":"ExpressionStatement","src":"7189:15:17"},"nodeType":"ForStatement","src":"7081:395:17"}]},"implemented":true,"kind":"function","modifiers":[],"name":"removeFunctions","nameLocation":"6704:15:17","parameters":{"id":2672,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2668,"mutability":"mutable","name":"_facetAddress","nameLocation":"6737:13:17","nodeType":"VariableDeclaration","scope":2731,"src":"6729:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2667,"name":"address","nodeType":"ElementaryTypeName","src":"6729:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2671,"mutability":"mutable","name":"_functionSelectors","nameLocation":"6776:18:17","nodeType":"VariableDeclaration","scope":2731,"src":"6760:34:17","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_memory_ptr","typeString":"bytes4[]"},"typeName":{"baseType":{"id":2669,"name":"bytes4","nodeType":"ElementaryTypeName","src":"6760:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":2670,"nodeType":"ArrayTypeName","src":"6760:8:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage_ptr","typeString":"bytes4[]"}},"visibility":"internal"}],"src":"6719:81:17"},"returnParameters":{"id":2673,"nodeType":"ParameterList","parameters":[],"src":"6810:0:17"},"scope":3066,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":2763,"nodeType":"FunctionDefinition","src":"7488:324:17","nodes":[],"body":{"id":2762,"nodeType":"Block","src":"7587:225:17","nodes":[],"statements":[{"expression":{"arguments":[{"id":2740,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2736,"src":"7620:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":2739,"name":"enforceHasContractCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3065,"src":"7597:22:17","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$returns$__$","typeString":"function (address) view"}},"id":2741,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7597:37:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2742,"nodeType":"ExpressionStatement","src":"7597:37:17"},{"expression":{"id":2752,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":2743,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2734,"src":"7644:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2746,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7647:22:17","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":2264,"src":"7644:25:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$2254_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":2747,"indexExpression":{"id":2745,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2736,"src":"7670:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7644:40:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$2254_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":2748,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"7685:20:17","memberName":"facetAddressPosition","nodeType":"MemberAccess","referencedDeclaration":2253,"src":"7644:61:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"expression":{"id":2749,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2734,"src":"7708:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2750,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7724:14:17","memberName":"facetAddresses","nodeType":"MemberAccess","referencedDeclaration":2267,"src":"7708:30:17","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":2751,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7752:6:17","memberName":"length","nodeType":"MemberAccess","src":"7708:50:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"7644:114:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2753,"nodeType":"ExpressionStatement","src":"7644:114:17"},{"expression":{"arguments":[{"id":2759,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2736,"src":"7791:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"expression":{"id":2754,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2734,"src":"7768:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2757,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"7771:14:17","memberName":"facetAddresses","nodeType":"MemberAccess","referencedDeclaration":2267,"src":"7768:17:17","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":2758,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"7786:4:17","memberName":"push","nodeType":"MemberAccess","src":"7768:22:17","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_array$_t_address_$dyn_storage_ptr_$_t_address_$returns$__$attached_to$_t_array$_t_address_$dyn_storage_ptr_$","typeString":"function (address[] storage pointer,address)"}},"id":2760,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"7768:37:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2761,"nodeType":"ExpressionStatement","src":"7768:37:17"}]},"implemented":true,"kind":"function","modifiers":[],"name":"addFacet","nameLocation":"7497:8:17","parameters":{"id":2737,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2734,"mutability":"mutable","name":"ds","nameLocation":"7538:2:17","nodeType":"VariableDeclaration","scope":2763,"src":"7515:25:17","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":2733,"nodeType":"UserDefinedTypeName","pathNode":{"id":2732,"name":"DiamondStorage","nameLocations":["7515:14:17"],"nodeType":"IdentifierPath","referencedDeclaration":2274,"src":"7515:14:17"},"referencedDeclaration":2274,"src":"7515:14:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"},{"constant":false,"id":2736,"mutability":"mutable","name":"_facetAddress","nameLocation":"7558:13:17","nodeType":"VariableDeclaration","scope":2763,"src":"7550:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2735,"name":"address","nodeType":"ElementaryTypeName","src":"7550:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"7505:72:17"},"returnParameters":{"id":2738,"nodeType":"ParameterList","parameters":[],"src":"7587:0:17"},"scope":3066,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":2804,"nodeType":"FunctionDefinition","src":"7818:475:17","nodes":[],"body":{"id":2803,"nodeType":"Block","src":"7980:313:17","nodes":[],"statements":[{"expression":{"id":2782,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":2775,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2766,"src":"7990:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2778,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8006:26:17","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":2259,"src":"7990:42:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$2248_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":2779,"indexExpression":{"id":2777,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2768,"src":"8033:9:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"7990:53:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$2248_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"id":2780,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"8057:24:17","memberName":"functionSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":2247,"src":"7990:91:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":2781,"name":"_selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2770,"src":"8084:17:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"src":"7990:111:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"id":2783,"nodeType":"ExpressionStatement","src":"7990:111:17"},{"expression":{"arguments":[{"id":2791,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2768,"src":"8188:9:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"expression":{"expression":{"baseExpression":{"expression":{"id":2784,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2766,"src":"8111:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2787,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8114:22:17","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":2264,"src":"8111:25:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$2254_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":2788,"indexExpression":{"id":2786,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2772,"src":"8137:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8111:40:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$2254_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":2789,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8152:17:17","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":2251,"src":"8111:58:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":2790,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"8170:4:17","memberName":"push","nodeType":"MemberAccess","src":"8111:63:17","typeDescriptions":{"typeIdentifier":"t_function_arraypush_nonpayable$_t_array$_t_bytes4_$dyn_storage_ptr_$_t_bytes4_$returns$__$attached_to$_t_array$_t_bytes4_$dyn_storage_ptr_$","typeString":"function (bytes4[] storage pointer,bytes4)"}},"id":2792,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8111:96:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2793,"nodeType":"ExpressionStatement","src":"8111:96:17"},{"expression":{"id":2801,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":2794,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2766,"src":"8217:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2797,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8220:26:17","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":2259,"src":"8217:29:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$2248_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":2798,"indexExpression":{"id":2796,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2768,"src":"8247:9:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8217:40:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$2248_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"id":2799,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"8258:12:17","memberName":"facetAddress","nodeType":"MemberAccess","referencedDeclaration":2245,"src":"8217:53:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":2800,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2772,"src":"8273:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"8217:69:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2802,"nodeType":"ExpressionStatement","src":"8217:69:17"}]},"implemented":true,"kind":"function","modifiers":[],"name":"addFunction","nameLocation":"7827:11:17","parameters":{"id":2773,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2766,"mutability":"mutable","name":"ds","nameLocation":"7871:2:17","nodeType":"VariableDeclaration","scope":2804,"src":"7848:25:17","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":2765,"nodeType":"UserDefinedTypeName","pathNode":{"id":2764,"name":"DiamondStorage","nameLocations":["7848:14:17"],"nodeType":"IdentifierPath","referencedDeclaration":2274,"src":"7848:14:17"},"referencedDeclaration":2274,"src":"7848:14:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"},{"constant":false,"id":2768,"mutability":"mutable","name":"_selector","nameLocation":"7890:9:17","nodeType":"VariableDeclaration","scope":2804,"src":"7883:16:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2767,"name":"bytes4","nodeType":"ElementaryTypeName","src":"7883:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"},{"constant":false,"id":2770,"mutability":"mutable","name":"_selectorPosition","nameLocation":"7916:17:17","nodeType":"VariableDeclaration","scope":2804,"src":"7909:24:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"},"typeName":{"id":2769,"name":"uint96","nodeType":"ElementaryTypeName","src":"7909:6:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"visibility":"internal"},{"constant":false,"id":2772,"mutability":"mutable","name":"_facetAddress","nameLocation":"7951:13:17","nodeType":"VariableDeclaration","scope":2804,"src":"7943:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2771,"name":"address","nodeType":"ElementaryTypeName","src":"7943:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"7838:132:17"},"returnParameters":{"id":2774,"nodeType":"ParameterList","parameters":[],"src":"7980:0:17"},"scope":3066,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":2973,"nodeType":"FunctionDefinition","src":"8299:2488:17","nodes":[],"body":{"id":2972,"nodeType":"Block","src":"8430:2357:17","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2819,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2814,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2809,"src":"8444:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":2817,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"8469:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2816,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8461:7:17","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":2815,"name":"address","nodeType":"ElementaryTypeName","src":"8461:7:17","typeDescriptions":{}}},"id":2818,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8461:10:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"8444:27:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2824,"nodeType":"IfStatement","src":"8440:70:17","trueBody":{"errorCall":{"arguments":[{"id":2821,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2811,"src":"8500:9:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":2820,"name":"NonExistentSelector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2228,"src":"8480:19:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$_t_error_$","typeString":"function (bytes4) pure returns (error)"}},"id":2822,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8480:30:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":2823,"nodeType":"RevertStatement","src":"8473:37:17"}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2830,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2825,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2809,"src":"8601:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"id":2828,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"8626:4:17","typeDescriptions":{"typeIdentifier":"t_contract$_LibDiamond_$3066","typeString":"library LibDiamond"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_LibDiamond_$3066","typeString":"library LibDiamond"}],"id":2827,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"8618:7:17","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":2826,"name":"address","nodeType":"ElementaryTypeName","src":"8618:7:17","typeDescriptions":{}}},"id":2829,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8618:13:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"8601:30:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2835,"nodeType":"IfStatement","src":"8597:71:17","trueBody":{"errorCall":{"arguments":[{"id":2832,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2811,"src":"8658:9:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes4","typeString":"bytes4"}],"id":2831,"name":"ImmutableFunction","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2232,"src":"8640:17:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$_t_bytes4_$returns$_t_error_$","typeString":"function (bytes4) pure returns (error)"}},"id":2833,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"8640:28:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":2834,"nodeType":"RevertStatement","src":"8633:35:17"}},{"assignments":[2837],"declarations":[{"constant":false,"id":2837,"mutability":"mutable","name":"selectorPosition","nameLocation":"8760:16:17","nodeType":"VariableDeclaration","scope":2972,"src":"8752:24:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2836,"name":"uint256","nodeType":"ElementaryTypeName","src":"8752:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":2843,"initialValue":{"expression":{"baseExpression":{"expression":{"id":2838,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2807,"src":"8779:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2839,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8795:26:17","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":2259,"src":"8779:42:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$2248_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":2841,"indexExpression":{"id":2840,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2811,"src":"8822:9:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8779:53:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$2248_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"id":2842,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8846:24:17","memberName":"functionSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":2247,"src":"8779:91:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"nodeType":"VariableDeclarationStatement","src":"8752:118:17"},{"assignments":[2845],"declarations":[{"constant":false,"id":2845,"mutability":"mutable","name":"lastSelectorPosition","nameLocation":"8888:20:17","nodeType":"VariableDeclaration","scope":2972,"src":"8880:28:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2844,"name":"uint256","nodeType":"ElementaryTypeName","src":"8880:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":2854,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2853,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"expression":{"baseExpression":{"expression":{"id":2846,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2807,"src":"8911:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2847,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8927:22:17","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":2264,"src":"8911:38:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$2254_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":2849,"indexExpression":{"id":2848,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2809,"src":"8950:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"8911:53:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$2254_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":2850,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"8978:17:17","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":2251,"src":"8911:84:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":2851,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9009:6:17","memberName":"length","nodeType":"MemberAccess","src":"8911:104:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":2852,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9018:1:17","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"8911:108:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"8880:139:17"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2857,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2855,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2837,"src":"9101:16:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":2856,"name":"lastSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2845,"src":"9121:20:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"9101:40:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2892,"nodeType":"IfStatement","src":"9097:493:17","trueBody":{"id":2891,"nodeType":"Block","src":"9143:447:17","statements":[{"assignments":[2859],"declarations":[{"constant":false,"id":2859,"mutability":"mutable","name":"lastSelector","nameLocation":"9164:12:17","nodeType":"VariableDeclaration","scope":2891,"src":"9157:19:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2858,"name":"bytes4","nodeType":"ElementaryTypeName","src":"9157:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"id":2867,"initialValue":{"baseExpression":{"expression":{"baseExpression":{"expression":{"id":2860,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2807,"src":"9179:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2861,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9199:22:17","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":2264,"src":"9179:42:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$2254_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":2863,"indexExpression":{"id":2862,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2809,"src":"9222:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9179:57:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$2254_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":2864,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9254:17:17","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":2251,"src":"9179:92:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":2866,"indexExpression":{"id":2865,"name":"lastSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2845,"src":"9272:20:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9179:114:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"VariableDeclarationStatement","src":"9157:136:17"},{"expression":{"id":2877,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"baseExpression":{"expression":{"id":2868,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2807,"src":"9307:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2871,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9310:22:17","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":2264,"src":"9307:25:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$2254_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":2872,"indexExpression":{"id":2870,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2809,"src":"9333:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9307:40:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$2254_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":2873,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9348:17:17","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":2251,"src":"9307:58:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":2875,"indexExpression":{"id":2874,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2837,"src":"9387:16:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9307:114:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":2876,"name":"lastSelector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2859,"src":"9424:12:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"src":"9307:129:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":2878,"nodeType":"ExpressionStatement","src":"9307:129:17"},{"expression":{"id":2889,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":2879,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2807,"src":"9450:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2882,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9470:26:17","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":2259,"src":"9450:46:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$2248_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":2883,"indexExpression":{"id":2881,"name":"lastSelector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2859,"src":"9497:12:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9450:60:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$2248_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"id":2884,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"9528:24:17","memberName":"functionSelectorPosition","nodeType":"MemberAccess","referencedDeclaration":2247,"src":"9450:102:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":2887,"name":"selectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2837,"src":"9562:16:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"}],"id":2886,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"9555:6:17","typeDescriptions":{"typeIdentifier":"t_type$_t_uint96_$","typeString":"type(uint96)"},"typeName":{"id":2885,"name":"uint96","nodeType":"ElementaryTypeName","src":"9555:6:17","typeDescriptions":{}}},"id":2888,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9555:24:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"src":"9450:129:17","typeDescriptions":{"typeIdentifier":"t_uint96","typeString":"uint96"}},"id":2890,"nodeType":"ExpressionStatement","src":"9450:129:17"}]}},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"baseExpression":{"expression":{"id":2893,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2807,"src":"9635:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2896,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9638:22:17","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":2264,"src":"9635:25:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$2254_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":2897,"indexExpression":{"id":2895,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2809,"src":"9661:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"9635:40:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$2254_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":2898,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9676:17:17","memberName":"functionSelectors","nodeType":"MemberAccess","referencedDeclaration":2251,"src":"9635:58:17","typeDescriptions":{"typeIdentifier":"t_array$_t_bytes4_$dyn_storage","typeString":"bytes4[] storage ref"}},"id":2899,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"9694:3:17","memberName":"pop","nodeType":"MemberAccess","src":"9635:62:17","typeDescriptions":{"typeIdentifier":"t_function_arraypop_nonpayable$_t_array$_t_bytes4_$dyn_storage_ptr_$returns$__$attached_to$_t_array$_t_bytes4_$dyn_storage_ptr_$","typeString":"function (bytes4[] storage pointer)"}},"id":2900,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"9635:64:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2901,"nodeType":"ExpressionStatement","src":"9635:64:17"},{"expression":{"id":2906,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"9709:47:17","subExpression":{"baseExpression":{"expression":{"id":2902,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2807,"src":"9716:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2903,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"9719:26:17","memberName":"selectorToFacetAndPosition","nodeType":"MemberAccess","referencedDeclaration":2259,"src":"9716:29:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes4_$_t_struct$_FacetAddressAndPosition_$2248_storage_$","typeString":"mapping(bytes4 => struct LibDiamond.FacetAddressAndPosition storage ref)"}},"id":2905,"indexExpression":{"id":2904,"name":"_selector","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2811,"src":"9746:9:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"9716:40:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetAddressAndPosition_$2248_storage","typeString":"struct LibDiamond.FacetAddressAndPosition storage ref"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2907,"nodeType":"ExpressionStatement","src":"9709:47:17"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2910,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2908,"name":"lastSelectorPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2845,"src":"9851:20:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":2909,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"9875:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"9851:25:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2971,"nodeType":"IfStatement","src":"9847:934:17","trueBody":{"id":2970,"nodeType":"Block","src":"9878:903:17","statements":[{"assignments":[2912],"declarations":[{"constant":false,"id":2912,"mutability":"mutable","name":"lastFacetAddressPosition","nameLocation":"9991:24:17","nodeType":"VariableDeclaration","scope":2970,"src":"9983:32:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2911,"name":"uint256","nodeType":"ElementaryTypeName","src":"9983:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":2918,"initialValue":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2917,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"expression":{"id":2913,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2807,"src":"10018:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2914,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10021:14:17","memberName":"facetAddresses","nodeType":"MemberAccess","referencedDeclaration":2267,"src":"10018:17:17","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":2915,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10036:6:17","memberName":"length","nodeType":"MemberAccess","src":"10018:24:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"hexValue":"31","id":2916,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10045:1:17","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"10018:28:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"9983:63:17"},{"assignments":[2920],"declarations":[{"constant":false,"id":2920,"mutability":"mutable","name":"facetAddressPosition","nameLocation":"10068:20:17","nodeType":"VariableDeclaration","scope":2970,"src":"10060:28:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":2919,"name":"uint256","nodeType":"ElementaryTypeName","src":"10060:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":2926,"initialValue":{"expression":{"baseExpression":{"expression":{"id":2921,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2807,"src":"10091:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2922,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10111:22:17","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":2264,"src":"10091:42:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$2254_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":2924,"indexExpression":{"id":2923,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2809,"src":"10134:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10091:57:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$2254_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":2925,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10166:20:17","memberName":"facetAddressPosition","nodeType":"MemberAccess","referencedDeclaration":2253,"src":"10091:95:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"10060:126:17"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2929,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2927,"name":"facetAddressPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2920,"src":"10204:20:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":2928,"name":"lastFacetAddressPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2912,"src":"10228:24:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10204:48:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2955,"nodeType":"IfStatement","src":"10200:418:17","trueBody":{"id":2954,"nodeType":"Block","src":"10254:364:17","statements":[{"assignments":[2931],"declarations":[{"constant":false,"id":2931,"mutability":"mutable","name":"lastFacetAddress","nameLocation":"10280:16:17","nodeType":"VariableDeclaration","scope":2954,"src":"10272:24:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2930,"name":"address","nodeType":"ElementaryTypeName","src":"10272:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":2936,"initialValue":{"baseExpression":{"expression":{"id":2932,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2807,"src":"10299:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2933,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10302:14:17","memberName":"facetAddresses","nodeType":"MemberAccess","referencedDeclaration":2267,"src":"10299:17:17","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":2935,"indexExpression":{"id":2934,"name":"lastFacetAddressPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2912,"src":"10338:24:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10299:81:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"10272:108:17"},{"expression":{"id":2943,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"baseExpression":{"expression":{"id":2937,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2807,"src":"10398:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2940,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10401:14:17","memberName":"facetAddresses","nodeType":"MemberAccess","referencedDeclaration":2267,"src":"10398:17:17","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":2941,"indexExpression":{"id":2939,"name":"facetAddressPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2920,"src":"10416:20:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"IndexAccess","src":"10398:39:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":2942,"name":"lastFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2931,"src":"10440:16:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10398:58:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":2944,"nodeType":"ExpressionStatement","src":"10398:58:17"},{"expression":{"id":2952,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"baseExpression":{"expression":{"id":2945,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2807,"src":"10474:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2948,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10498:22:17","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":2264,"src":"10474:46:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$2254_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":2949,"indexExpression":{"id":2947,"name":"lastFacetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2931,"src":"10521:16:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10474:64:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$2254_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":2950,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"10560:20:17","memberName":"facetAddressPosition","nodeType":"MemberAccess","referencedDeclaration":2253,"src":"10474:106:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":2951,"name":"facetAddressPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2920,"src":"10583:20:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"10474:129:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":2953,"nodeType":"ExpressionStatement","src":"10474:129:17"}]}},{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"id":2956,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2807,"src":"10631:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2959,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10634:14:17","memberName":"facetAddresses","nodeType":"MemberAccess","referencedDeclaration":2267,"src":"10631:17:17","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage","typeString":"address[] storage ref"}},"id":2960,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10649:3:17","memberName":"pop","nodeType":"MemberAccess","src":"10631:21:17","typeDescriptions":{"typeIdentifier":"t_function_arraypop_nonpayable$_t_array$_t_address_$dyn_storage_ptr_$returns$__$attached_to$_t_array$_t_address_$dyn_storage_ptr_$","typeString":"function (address[] storage pointer)"}},"id":2961,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10631:23:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2962,"nodeType":"ExpressionStatement","src":"10631:23:17"},{"expression":{"id":2968,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"delete","prefix":true,"src":"10668:102:17","subExpression":{"expression":{"baseExpression":{"expression":{"id":2963,"name":"ds","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2807,"src":"10675:2:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage storage pointer"}},"id":2964,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"10695:22:17","memberName":"facetFunctionSelectors","nodeType":"MemberAccess","referencedDeclaration":2264,"src":"10675:42:17","typeDescriptions":{"typeIdentifier":"t_mapping$_t_address_$_t_struct$_FacetFunctionSelectors_$2254_storage_$","typeString":"mapping(address => struct LibDiamond.FacetFunctionSelectors storage ref)"}},"id":2966,"indexExpression":{"id":2965,"name":"_facetAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2809,"src":"10718:13:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"10675:57:17","typeDescriptions":{"typeIdentifier":"t_struct$_FacetFunctionSelectors_$2254_storage","typeString":"struct LibDiamond.FacetFunctionSelectors storage ref"}},"id":2967,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"10750:20:17","memberName":"facetAddressPosition","nodeType":"MemberAccess","referencedDeclaration":2253,"src":"10675:95:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":2969,"nodeType":"ExpressionStatement","src":"10668:102:17"}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"removeFunction","nameLocation":"8308:14:17","parameters":{"id":2812,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2807,"mutability":"mutable","name":"ds","nameLocation":"8355:2:17","nodeType":"VariableDeclaration","scope":2973,"src":"8332:25:17","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"},"typeName":{"id":2806,"nodeType":"UserDefinedTypeName","pathNode":{"id":2805,"name":"DiamondStorage","nameLocations":["8332:14:17"],"nodeType":"IdentifierPath","referencedDeclaration":2274,"src":"8332:14:17"},"referencedDeclaration":2274,"src":"8332:14:17","typeDescriptions":{"typeIdentifier":"t_struct$_DiamondStorage_$2274_storage_ptr","typeString":"struct LibDiamond.DiamondStorage"}},"visibility":"internal"},{"constant":false,"id":2809,"mutability":"mutable","name":"_facetAddress","nameLocation":"8375:13:17","nodeType":"VariableDeclaration","scope":2973,"src":"8367:21:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2808,"name":"address","nodeType":"ElementaryTypeName","src":"8367:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2811,"mutability":"mutable","name":"_selector","nameLocation":"8405:9:17","nodeType":"VariableDeclaration","scope":2973,"src":"8398:16:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"},"typeName":{"id":2810,"name":"bytes4","nodeType":"ElementaryTypeName","src":"8398:6:17","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"visibility":"internal"}],"src":"8322:98:17"},"returnParameters":{"id":2813,"nodeType":"ParameterList","parameters":[],"src":"8430:0:17"},"scope":3066,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":3048,"nodeType":"FunctionDefinition","src":"10793:736:17","nodes":[],"body":{"id":3047,"nodeType":"Block","src":"10893:636:17","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":2985,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":2980,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2975,"src":"10907:5:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":2983,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10924:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":2982,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"10916:7:17","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":2981,"name":"address","nodeType":"ElementaryTypeName","src":"10916:7:17","typeDescriptions":{}}},"id":2984,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10916:10:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"10907:19:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":3045,"nodeType":"Block","src":"11010:513:17","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2998,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":2995,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2977,"src":"11028:9:17","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":2996,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11038:6:17","memberName":"length","nodeType":"MemberAccess","src":"11028:16:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":2997,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11048:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11028:21:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3002,"nodeType":"IfStatement","src":"11024:49:17","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":2999,"name":"EmptyCalldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2236,"src":"11058:13:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":3000,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11058:15:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":3001,"nodeType":"RevertStatement","src":"11051:22:17"}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":3008,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3003,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2975,"src":"11091:5:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"id":3006,"name":"this","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-28,"src":"11108:4:17","typeDescriptions":{"typeIdentifier":"t_contract$_LibDiamond_$3066","typeString":"library LibDiamond"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_contract$_LibDiamond_$3066","typeString":"library LibDiamond"}],"id":3005,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11100:7:17","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":3004,"name":"address","nodeType":"ElementaryTypeName","src":"11100:7:17","typeDescriptions":{}}},"id":3007,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11100:13:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"11091:22:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3014,"nodeType":"IfStatement","src":"11087:90:17","trueBody":{"id":3013,"nodeType":"Block","src":"11115:62:17","statements":[{"expression":{"arguments":[{"id":3010,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2975,"src":"11156:5:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":3009,"name":"enforceHasContractCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3065,"src":"11133:22:17","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$returns$__$","typeString":"function (address) view"}},"id":3011,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11133:29:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3012,"nodeType":"ExpressionStatement","src":"11133:29:17"}]}},{"assignments":[3016,3018],"declarations":[{"constant":false,"id":3016,"mutability":"mutable","name":"success","nameLocation":"11196:7:17","nodeType":"VariableDeclaration","scope":3045,"src":"11191:12:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":3015,"name":"bool","nodeType":"ElementaryTypeName","src":"11191:4:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":3018,"mutability":"mutable","name":"error","nameLocation":"11218:5:17","nodeType":"VariableDeclaration","scope":3045,"src":"11205:18:17","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":3017,"name":"bytes","nodeType":"ElementaryTypeName","src":"11205:5:17","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"id":3023,"initialValue":{"arguments":[{"id":3021,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2977,"src":"11246:9:17","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"expression":{"id":3019,"name":"_init","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2975,"src":"11227:5:17","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":3020,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11233:12:17","memberName":"delegatecall","nodeType":"MemberAccess","src":"11227:18:17","typeDescriptions":{"typeIdentifier":"t_function_baredelegatecall_nonpayable$_t_bytes_memory_ptr_$returns$_t_bool_$_t_bytes_memory_ptr_$","typeString":"function (bytes memory) returns (bool,bytes memory)"}},"id":3022,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11227:29:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_bool_$_t_bytes_memory_ptr_$","typeString":"tuple(bool,bytes memory)"}},"nodeType":"VariableDeclarationStatement","src":"11190:66:17"},{"condition":{"id":3025,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"!","prefix":true,"src":"11274:8:17","subExpression":{"id":3024,"name":"success","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3016,"src":"11275:7:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3044,"nodeType":"IfStatement","src":"11270:243:17","trueBody":{"id":3043,"nodeType":"Block","src":"11284:229:17","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3029,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":3026,"name":"error","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3018,"src":"11306:5:17","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":3027,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"11312:6:17","memberName":"length","nodeType":"MemberAccess","src":"11306:12:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":3028,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11321:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11306:16:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":3041,"nodeType":"Block","src":"11435:64:17","statements":[{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":3038,"name":"InitCallFailed","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2238,"src":"11464:14:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":3039,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11464:16:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":3040,"nodeType":"RevertStatement","src":"11457:23:17"}]},"id":3042,"nodeType":"IfStatement","src":"11302:197:17","trueBody":{"id":3037,"nodeType":"Block","src":"11324:105:17","statements":[{"expression":{"arguments":[{"arguments":[{"id":3033,"name":"error","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3018,"src":"11403:5:17","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}],"id":3032,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"11396:6:17","typeDescriptions":{"typeIdentifier":"t_type$_t_string_storage_ptr_$","typeString":"type(string storage pointer)"},"typeName":{"id":3031,"name":"string","nodeType":"ElementaryTypeName","src":"11396:6:17","typeDescriptions":{}}},"id":3034,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11396:13:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_string_memory_ptr","typeString":"string memory"}],"id":3030,"name":"revert","nodeType":"Identifier","overloadedDeclarations":[-19,-19],"referencedDeclaration":-19,"src":"11389:6:17","typeDescriptions":{"typeIdentifier":"t_function_revert_pure$_t_string_memory_ptr_$returns$__$","typeString":"function (string memory) pure"}},"id":3035,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11389:21:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":3036,"nodeType":"ExpressionStatement","src":"11389:21:17"}]}}]}}]},"id":3046,"nodeType":"IfStatement","src":"10903:620:17","trueBody":{"id":2994,"nodeType":"Block","src":"10928:76:17","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":2989,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":2986,"name":"_calldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2977,"src":"10946:9:17","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes memory"}},"id":2987,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"10956:6:17","memberName":"length","nodeType":"MemberAccess","src":"10946:16:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":">","rightExpression":{"hexValue":"30","id":2988,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"10965:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"10946:20:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":2993,"nodeType":"IfStatement","src":"10942:51:17","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":2990,"name":"NonEmptyCalldata","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2234,"src":"10975:16:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":2991,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"10975:18:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":2992,"nodeType":"RevertStatement","src":"10968:25:17"}}]}}]},"implemented":true,"kind":"function","modifiers":[],"name":"initializeDiamondCut","nameLocation":"10802:20:17","parameters":{"id":2978,"nodeType":"ParameterList","parameters":[{"constant":false,"id":2975,"mutability":"mutable","name":"_init","nameLocation":"10840:5:17","nodeType":"VariableDeclaration","scope":3048,"src":"10832:13:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":2974,"name":"address","nodeType":"ElementaryTypeName","src":"10832:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":2977,"mutability":"mutable","name":"_calldata","nameLocation":"10868:9:17","nodeType":"VariableDeclaration","scope":3048,"src":"10855:22:17","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":2976,"name":"bytes","nodeType":"ElementaryTypeName","src":"10855:5:17","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"10822:61:17"},"returnParameters":{"id":2979,"nodeType":"ParameterList","parameters":[],"src":"10893:0:17"},"scope":3066,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"},{"id":3065,"nodeType":"FunctionDefinition","src":"11535:230:17","nodes":[],"body":{"id":3064,"nodeType":"Block","src":"11600:165:17","nodes":[],"statements":[{"assignments":[3054],"declarations":[{"constant":false,"id":3054,"mutability":"mutable","name":"contractSize","nameLocation":"11618:12:17","nodeType":"VariableDeclaration","scope":3064,"src":"11610:20:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":3053,"name":"uint256","nodeType":"ElementaryTypeName","src":"11610:7:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":3055,"nodeType":"VariableDeclarationStatement","src":"11610:20:17"},{"AST":{"nativeSrc":"11649:62:17","nodeType":"YulBlock","src":"11649:62:17","statements":[{"nativeSrc":"11663:38:17","nodeType":"YulAssignment","src":"11663:38:17","value":{"arguments":[{"name":"_contract","nativeSrc":"11691:9:17","nodeType":"YulIdentifier","src":"11691:9:17"}],"functionName":{"name":"extcodesize","nativeSrc":"11679:11:17","nodeType":"YulIdentifier","src":"11679:11:17"},"nativeSrc":"11679:22:17","nodeType":"YulFunctionCall","src":"11679:22:17"},"variableNames":[{"name":"contractSize","nativeSrc":"11663:12:17","nodeType":"YulIdentifier","src":"11663:12:17"}]}]},"evmVersion":"cancun","externalReferences":[{"declaration":3050,"isOffset":false,"isSlot":false,"src":"11691:9:17","valueSize":1},{"declaration":3054,"isOffset":false,"isSlot":false,"src":"11663:12:17","valueSize":1}],"id":3056,"nodeType":"InlineAssembly","src":"11640:71:17"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":3059,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":3057,"name":"contractSize","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":3054,"src":"11724:12:17","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<=","rightExpression":{"hexValue":"30","id":3058,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"11740:1:17","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"11724:17:17","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":3063,"nodeType":"IfStatement","src":"11720:38:17","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":3060,"name":"NoCode","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":2224,"src":"11750:6:17","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":3061,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"11750:8:17","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_error","typeString":"error"}},"id":3062,"nodeType":"RevertStatement","src":"11743:15:17"}}]},"implemented":true,"kind":"function","modifiers":[],"name":"enforceHasContractCode","nameLocation":"11544:22:17","parameters":{"id":3051,"nodeType":"ParameterList","parameters":[{"constant":false,"id":3050,"mutability":"mutable","name":"_contract","nameLocation":"11575:9:17","nodeType":"VariableDeclaration","scope":3065,"src":"11567:17:17","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":3049,"name":"address","nodeType":"ElementaryTypeName","src":"11567:7:17","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"11566:19:17"},"returnParameters":{"id":3052,"nodeType":"ParameterList","parameters":[],"src":"11600:0:17"},"scope":3066,"stateMutability":"view","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"LibDiamond","contractDependencies":[],"contractKind":"library","fullyImplemented":true,"linearizedBaseContracts":[3066],"name":"LibDiamond","nameLocation":"429:10:17","scope":3067,"usedErrors":[2206,2208,2210,2212,2216,2220,2222,2224,2228,2232,2234,2236,2238],"usedEvents":[2292,2356]}],"license":"MIT"},"id":17}